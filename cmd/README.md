# Simple Command Line Utility

This CLI can be used in order to either generate a fresh mix-header or decode and fully process an existing one given a private key.

## Usage

To use the CLI, build it and then run the commands.

```
go build main.go
./main <commands>
```

### Commands
```
./main (new|generate|decode) <private-keys>
```

#### `new`
The `new` command creates a new keypair for use with `generate` and `decode`.

#### `generate`
The `generate` command generates a route, then uses that route to create a new sphinx onion packet, which includes all hop data along the route.

#### `decode`
The `decode` command reads an onion packet in from stdin and a private key as an argument to decode the message. See example below. 

`decode` also creates a new router and starts an in-memory ReplayLog.

Example:

```
$ ./main new
privkey: 89301b800e26a4d406b3ddc7bca069ca563871ab32753a63ac72ec890004ba64
pubkey: 035c6a3ce4d94a23071e4333e6ffb4f8aae0021319936e49920a390343f7b42770
$ ./main generate 035c6a3ce4d94a23071e4333e6ffb4f8aae0021319936e49920a390343f7b42770 | ./main decode 89301b800e26a4d406b3ddc7bca069ca563871ab32753a63ac72ec890004ba64
Node 0 pubkey 035c6a3ce4d94a23071e4333e6ffb4f8aae0021319936e49920a390343f7b42770
0003e91983bc6cec837a26f97aa2dd90a90f0041fda04548f4262d9e14dec4c2ca4a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000129b2a5683d565b0e394a4ee48f41eb8dc1d739dfeef13740524d8fdbc65b17baa67bb7b2309c6d4f440840862daa146bf396d6b8b83e47c487ce660a31c25fb5d0000000000000000000000000000000000000000000000000000000000000000
```
